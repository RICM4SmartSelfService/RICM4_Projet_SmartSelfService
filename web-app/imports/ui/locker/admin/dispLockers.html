<template name='dispLockers'>
	<form class="navbar-form query" role="search">
		<div class="input-group">
			<input type="text" class="form-control queryTerm" placeholder="Filter" name="text">
			<div class="input-group-btn">
				<button class="btn btn-default" type="submit"><i class="glyphicon glyphicon-search"></i></button>
			</div>
		</div>
	</form>


	<table class="table table-striped table-hover">
		<thead>
			<th>
				ID
			</th>
			<th>
				Place
			</th>
			<th>
				IP
			</th>
			<th>
				Content
			</th>
			<th>
				State
			</th>
			<th>
				Availability
			</th>
			<th>
				Unlock code
			</th>
			<th>
				QrCode
			</th>
		</thead>
		<tbody>
			{{#each lockers}}
				<tr>
					<td>
						{{number}}
					</td>
					<td>
						{{place}}
					</td>
					<td>
						{{IP}}
					</td>
					<td>
						{{>dispobject obj_id=object}}
					</td>
					<td>
						{{state}}
					</td>
					<td>
						{{#if available}}
							<span class="label label-success">
								Available
							</span>
						{{else}}
							<span class="label label-warning">
								Action pending : {{pending}}
							</span>
						{{/if}}
					</td>
					<td>
						{{code}}
					</td>
					<td>
						{{> dispQR id=_id}}
					</td>
				</tr>
			{{/each}}
		</tbody>
	</table>
</template>

<template name='dispQR'>
	{{#if showQR}}
		<button class='toggleQR btn btn-xs btn-default'>Hide QR code</button>
		<div class='QRcode'>
			{{id}}
			{{> QRCode text=URL size="128px"}}
		</div>
	{{else}}
	<button class='toggleQR btn btn-xs btn-default'>Show QR code</button>
	{{/if}}
</template>
